!function(s){"use strict";"function"==typeof define&&define.amd?define(["jquery"],s):"object"==typeof exports&&"function"==typeof require?s(require("jquery"),window,document):s(jQuery,window,document)}(function(d){"use strict";class o{constructor(s,t){let e=this;this.element=s,this.$el=d(s).addClass("jsd"),this.options=d.extend({},o.defaults,t),this.$cards=[],this.$cards=this.$el.find(this.options.cards),this.$ghostCard=d('<div class="'+this.options.classes.cardBase+" "+this.options.classes.cardGhost+'">'),this.isScrollingDown=!0,this.lastScrollTop=0,this.cardsHeight=d(window).height(),"full"!==this.options.height&&("auto"===this.options.height?this.cardsHeight="":this.cardsHeight=parseInt(this.options.height)),this.$cards.each(function(s,t){d(t).addClass(e.options.classes.cardBase).height(e.cardsHeight).data("offsetTop",e.getCardTop(s)).css({top:e.getCardTop(s)+"px",zIndex:e.options.zIndexBase*(s+1)}),e.$cards.length-1===s&&e.$ghostCard.height(e.cardsHeight).css({top:e.getCardTop(s)+"px",zIndex:e.options.zIndexBase*s}).insertAfter(t)}),this.positionCards(),this.$el.on("resize scroll",function(){e.setScrollDirection(),e.positionCards()})}getCardTop(s){return this.cardsHeight*s}setScrollDirection(){this.isScrollingDown=this.$el.scrollTop()>this.lastScrollTop,this.lastScrollTop=this.$el.scrollTop()<=0?0:this.$el.scrollTop()}positionCards(){let c=this;this.$cards.each(function(s,t){let e=d(t),o=e.data("offsetTop"),i=c.$el.scrollTop(),a=c.$cards.length-1===s;c.isScrollingDown?o<=i&&!e.hasClass(c.options.classes.cardActive)&&!e.hasClass(c.options.classes.cardPrevious)&&(0<=s-1&&d(c.$cards[s-1]).removeClass(c.options.classes.cardActive).addClass(c.options.classes.cardPrevious),e.addClass([c.options.classes.cardFixed,c.options.classes.cardActive]).removeClass([c.options.classes.cardPrevious,c.options.classes.cardNext]).css("top","").css("zIndex",-1),a&&c.$ghostCard.show(),c.$cards.length>s+1&&d(c.$cards[s+1]).addClass(c.options.classes.cardNext)):i<o&&e.hasClass(c.options.classes.cardActive)&&(d(c.$cards).filter("."+c.options.classes.cardNext).removeClass(c.options.classes.cardNext),e.addClass(c.options.classes.cardNext).removeClass([c.options.classes.cardFixed,c.options.classes.cardActive]).css("top",e.data("offsetTop")+"px").css("zIndex",""),0<=s-1&&d(c.$cards[s-1]).removeClass(c.options.classes.cardPrevious).addClass(c.options.classes.cardActive),a&&c.$ghostCard.hide())})}}(d.SlidingDeck=o).defaults={cards:"section",height:"full",zIndexBase:10,classes:{cardBase:"jsd-card",cardActive:"jsd-card--active",cardFixed:"jsd-card--fixed",cardPrevious:"jsd-card--previous",cardNext:"jsd-card--next",cardGhost:"jsd-card--ghost"}},d.fn.slidingDeck=function(s){let t="slidingDeck",e=d(this).data(t);return e&&e.dispose&&e.dispose(),e=new o(this,s),d(this).data(t,e),this}});
//# sourceMappingURL=jquery.slidingDeck.min.js.map