!function(s){"use strict";"function"==typeof define&&define.amd?define(["jquery"],s):"object"==typeof exports&&"function"==typeof require?s(require("jquery"),window,document):s(jQuery,window,document)}(function(n){"use strict";class e{constructor(s,i){let t=this;this.$el=n("body"),this.options=n.extend({},e.defaults,i),this.$cards=[],this.$cards=this.$el.find(this.options.cards),this.$ghostCard=n('<div class="'+this.options.classes.cardBase+" "+this.options.classes.cardGhost+'">'),this.isScrollingDown=!0,this.lastScrollTop=0,this.hasInitialized=!1,this.hasUninitialized=!1,this.maybeInitialize(),n(window).on("resize.maybeInitialize",function(){t.maybeInitialize()})}maybeInitialize(){n(window).width()>=this.options.minDeviceWidth?(this.unInitBasicView(),this.hasInitialized||(this.hasInitialized=!0,this.hasUninitialized=!1,this.init())):(this.initBasicView(),this.hasInitialized&&!this.hasUninitialized&&(this.hasUninitialized=!0,this.hasInitialized=!1,this.unInit()))}init(){let t=this;n("body").addClass("jsd"),this.cardsHeight=n(window).height(),"full"!==this.options.height&&("auto"===this.options.height?this.cardsHeight="":this.cardsHeight=parseInt(this.options.height)),this.$cards.each(function(s,i){n(i).addClass(t.options.classes.cardBase).height(t.cardsHeight).data("offsetTop",t.getCardTop(s)).css({top:t.getCardTop(s)+"px",zIndex:t.options.zIndexBase*(s+1)}),t.$cards.length-1===s&&t.$ghostCard.height(t.cardsHeight).css({top:t.getCardTop(s)+"px",zIndex:t.options.zIndexBase*s}).insertAfter(i)}),n(window).off("resize.setMinHeight"),this.positionCards(),n(window).on("resize.positionCards scroll.positionCards",function(){t.setScrollDirection(),t.positionCards()})}initBasicView(){var s=this;this.setMinHeight(),n(window).on("resize.setMinHeight",function(){s.setMinHeight()})}unInitBasicView(){this.unSetMinHeight(),n(window).off("resize.setMinHeight")}setMinHeight(){this.$cards.css("minHeight",n(window).height()+"px")}unSetMinHeight(){this.$cards.css("minHeight","")}unInit(){let t=this;n("body").removeClass("jsd"),this.$cards.each(function(s,i){n(i).removeClass(t.options.classes.cardBase).removeClass(t.options.classes.cardActive).removeClass(t.options.classes.cardFixed).removeClass(t.options.classes.cardPrevious).removeClass(t.options.classes.cardNext).height("auto").removeData("offsetTop").css({top:"auto",zIndex:"auto"}),t.$ghostCard.length&&t.$ghostCard.remove()}),n(window).off("resize.positionCards scroll.positionCards")}getCardTop(s){return this.cardsHeight*s}setScrollDirection(){this.isScrollingDown=n(window).scrollTop()>this.lastScrollTop,this.lastScrollTop=n(window).scrollTop()<=0?0:n(window).scrollTop()}positionCards(){let d=this;this.$cards.each(function(s,i){let t=n(i),e=t.data("offsetTop"),o=n(window).scrollTop(),a=d.$cards.length-1===s;d.isScrollingDown?e<=o&&!t.hasClass(d.options.classes.cardActive)&&!t.hasClass(d.options.classes.cardPrevious)&&(0<=s-1&&n(d.$cards[s-1]).removeClass(d.options.classes.cardActive).addClass(d.options.classes.cardPrevious),t.addClass([d.options.classes.cardFixed,d.options.classes.cardActive]).removeClass([d.options.classes.cardPrevious,d.options.classes.cardNext]).css("top","").css("zIndex",-1),a&&d.$ghostCard.show(),d.$cards.length>s+1&&n(d.$cards[s+1]).addClass(d.options.classes.cardNext)):o<e&&t.hasClass(d.options.classes.cardActive)&&(n(d.$cards).filter("."+d.options.classes.cardNext).removeClass(d.options.classes.cardNext),t.addClass(d.options.classes.cardNext).removeClass([d.options.classes.cardFixed,d.options.classes.cardActive]).css("top",t.data("offsetTop")+"px").css("zIndex",""),0<=s-1&&n(d.$cards[s-1]).removeClass(d.options.classes.cardPrevious).addClass(d.options.classes.cardActive),a&&d.$ghostCard.hide())})}}(n.SlidingDeck=e).defaults={cards:"section",height:"full",zIndexBase:10,minDeviceWidth:0,classes:{cardBase:"jsd-card",cardActive:"jsd-card--active",cardFixed:"jsd-card--fixed",cardPrevious:"jsd-card--previous",cardNext:"jsd-card--next",cardGhost:"jsd-card--ghost"}},n.fn.slidingDeck=function(s){let i="slidingDeck",t=n(this).data(i);return t&&t.dispose&&t.dispose(),t=new e(this,s),n(this).data(i,t),this}});
//# sourceMappingURL=jquery.slidingDeck.min.js.map